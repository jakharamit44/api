const VIDEO_HTML = '<style>#player{position:absolute;width:100%!important;height:100%!important}@import url("https://fonts.googleapis.com/css2?family=Rubik:wght@500;700&display=swap");:root{--bg-red:#e50914;--bg-white:#f7f7f7;--bg-black:#181919}*,*::before,*::after{margin:0;padding:0;box-sizing:inherit}html{box-sizing:border-box;font-size:62.5%}.jwplayer.jw-skin-netflix .jw-title-primary,.jwplayer.jw-skin-netflix .jw-title-secondary{display:flex;flex-direction:column;color:var(--bg-white);font-family:"Rubik",Arial,sans-serif}.jwplayer.jw-skin-netflix .jw-title-primary{font-weight:700;text-transform:uppercase}.jwplayer.jw-skin-netflix .jw-title-secondary{font-weight:500}.jwplayer.jw-skin-netflix .jw-state-idle .jw-display-icon-container .jw-svg-icon-play{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0Ij48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDI0djI0SDB6Ii8+PHBhdGggZD0iTTE5LjM3NiAxMi40MTZMOC43NzcgMTkuNDgyQS41LjUgMCAwIDEgOCAxOS4wNjZWNC45MzRhLjUuNSAwIDAgMSAuNzc3LS40MTZsMTAuNTk5IDcuMDY2YS41LjUgMCAwIDEgMCAuODMyeiIgZmlsbD0icmdiYSgyNDcsMjQ2LDI0NywxKSIvPjwvc3ZnPg==");background-repeat:no-repeat;background-position:center;-webkit-transition:0.2s;transition:0.2s}.jwplayer.jw-skin-netflix .jw-state-idle:hover .jw-preview{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.jwplayer.jw-skin-netflix.jw-state-paused .jw-controls,.jwplayer.jw-skin-netflix.jw-state-complete .jw-controls,.jwplayer.jw-skin-netflix.jw-state-buffering .jw-controls{background-color:rgba(0,0,0,0.35);transition:all 0.2s linear}.jwplayer.jw-skin-netflix .jw-display-controls .jw-display-icon-container .jw-icon:hover{color:var(--bg-red)}.jwplayer.jw-skin-netflix .jw-controlbar .jw-button-container .jw-button-color:hover{color:var(--bg-red)}.jwplayer.jw-skin-netflix .jw-settings-menu{background-color:var(--bg-black);border-radius:0.3rem;width:23rem}.jwplayer.jw-skin-netflix.jw-breakpoint-7 .jw-settings-menu{margin:0 -4.4rem -4.7rem 0}</style><div id="player"></div><script src="https://content.jwplatform.com/libraries/KB5zFt7A.js"></script><script>playerInstance=jwplayer("player").setup({controls:!0,sharing:!0,displaytitle:!0,autostart:!0,mute:!1,skin:{name:"netflix"},captions:{color:"#FFF",fontSize:14,backgroundOpacity:0,edgeStyle:"raised"},playlist:[{title:"TechZ Player",sources:[{file:"VIDEO_SOURCE"}],tracks:[SUBTITLE_TRACKS]}]});playerInstance.on("ready",function(){const t=playerInstance.getContainer(),e=t.querySelector(".jw-button-container"),n=t.querySelector(".jw-slider-time");e.replaceChild(n,e.querySelector(".jw-spacer"));const i=t.querySelector(".jw-display-icon-rewind").cloneNode(!0);i.querySelector(".jw-icon-rewind").style.transform="scaleX(-1)",i.querySelector(".jw-icon-rewind").ariaLabel="Forward 10 Seconds",t.querySelector(".jw-display-icon-next").parentNode.insertBefore(i,t.querySelector(".jw-display-icon-next")),t.querySelector(".jw-display-icon-next").style.display="none";const o=e.querySelector(".jw-icon-rewind").cloneNode(!0);o.style.transform="scaleX(-1)",o.ariaLabel="Forward 10 Seconds",e.querySelector(".jw-icon-rewind").parentNode.insertBefore(o,e.querySelector(".jw-icon-rewind").nextElementSibling),[i.querySelector(".jw-icon-rewind"),o].forEach(t=>{t.onclick=()=>{playerInstance.seek(playerInstance.getPosition()+10)}})});playerInstance.on("firstFrame",function(){let e=document.getElementsByClassName("jw-reset-text jw-settings-content-item"),t=playerInstance.getAudioTracks();for(let n=0;n<t.length;n++)e[n].innerHTML=`${t[n].language.toUpperCase()} - ${t[n].name}`;playerInstance.setMute(!1);});</script>';

function getSubtileHtml(subtitle_data: any, hash: string) {
    let subtitleHtml = "";
    let i = 0
    for (let key in subtitle_data) {
        const url = `/file/${hash}/${subtitle_data[key]}`
        subtitleHtml += `{file: "${url}",label: "${key}",kind: "captions",default: ${i === 0 ? "true" : "false"}},`;
        i = 1
    }
    return subtitleHtml;
}

function getVideoHtml(video_url: string, subtitle_data: any, hash: string) {
    const subtitleHtml = getSubtileHtml(subtitle_data, hash);
    return VIDEO_HTML.replace("VIDEO_SOURCE", video_url).replace("SUBTITLE_TRACKS", subtitleHtml);
}

export { getVideoHtml };
